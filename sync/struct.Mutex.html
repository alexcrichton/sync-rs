<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Mutex` struct in crate `sync`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Mutex">

    <title>sync::Mutex - Rust</title>

    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        
        <p class='location'><a href='index.html'>sync</a></p><div class='block mod'><h2>Modules</h2><a class='mod ' href='atomic/index.html'>atomic</a><a class='mod ' href='sys/index.html'>sys</a></div><div class='block struct'><h2>Structs</h2><a class='struct ' href='struct.Arc.html'>Arc</a><a class='struct ' href='struct.Barrier.html'>Barrier</a><a class='struct ' href='struct.Condvar.html'>Condvar</a><a class='struct ' href='struct.Future.html'>Future</a><a class='struct current' href='struct.Mutex.html'>Mutex</a><a class='struct ' href='struct.MutexGuard.html'>MutexGuard</a><a class='struct ' href='struct.Once.html'>Once</a><a class='struct ' href='struct.RWLock.html'>RWLock</a><a class='struct ' href='struct.RWLockReadGuard.html'>RWLockReadGuard</a><a class='struct ' href='struct.RWLockWriteGuard.html'>RWLockWriteGuard</a><a class='struct ' href='struct.Semaphore.html'>Semaphore</a><a class='struct ' href='struct.SemaphoreGuard.html'>SemaphoreGuard</a><a class='struct ' href='struct.StaticCondvar.html'>StaticCondvar</a><a class='struct ' href='struct.StaticMutex.html'>StaticMutex</a><a class='struct ' href='struct.StaticMutexGuard.html'>StaticMutexGuard</a><a class='struct ' href='struct.StaticRWLock.html'>StaticRWLock</a><a class='struct ' href='struct.StaticRWLockReadGuard.html'>StaticRWLockReadGuard</a><a class='struct ' href='struct.StaticRWLockWriteGuard.html'>StaticRWLockWriteGuard</a><a class='struct ' href='struct.TaskPool.html'>TaskPool</a><a class='struct ' href='struct.Weak.html'>Weak</a></div><div class='block trait'><h2>Traits</h2><a class='trait ' href='trait.AsMutexGuard.html'>AsMutexGuard</a></div>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>sync</a>::<wbr><a class='struct' href=''>Mutex</a><wbr></span><span class='out-of-band'><span id='render-detail'>
            <a id="collapse-all" href="#">[-]
            </a>&nbsp;<a id="expand-all" href="#">[+]</a>
        </span><a id='src-2858' href='../src/sync/mutex.rs.html#34-44'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Mutex&lt;T&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>A mutual exclusion primitive useful for protecting shared data</p>

<p>This mutex will properly block tasks waiting for the lock to become
available. The mutex can also be statically initialized or created via a
<code>new</code> constructor. Each mutex has a type parameter which represents the data
that it is protecting. The data can only be accessed through the RAII guards
returned from <code>lock</code> and <code>try_lock</code>.</p>

<h1 id="poisoning" class='section-header'><a
                           href="#poisoning">Poisoning</a></h1>
<p>In order to prevent access to otherwise invalid data, each mutex will
propagate any panics which occur while the lock is held. Once a thread has
panicked while holding the lock, then all other threads will immediately
panic as well once they hold the lock.</p>

<h1 id="example" class='section-header'><a
                           href="#example">Example</a></h1><pre class='rust '>
<span class='kw'>use</span> <span class='ident'>sync</span>::<span class='ident'>Mutex</span>;

<span class='kw'>let</span> <span class='ident'>m</span> <span class='op'>=</span> <span class='ident'>Mutex</span>::<span class='ident'>new</span>(<span class='number'>4u</span>);
<span class='kw'>let</span> <span class='ident'>guard</span> <span class='op'>=</span> <span class='ident'>m</span>.<span class='ident'>lock</span>();

<span class='comment'>// do some work</span>
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;the value is: {}&quot;</span>, <span class='op'>*</span><span class='ident'>guard</span>);

<span class='ident'>drop</span>(<span class='ident'>guard</span>); <span class='comment'>// unlock the lock</span>
</pre>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><a class='stability Unmarked' title='No stability level'></a><code>impl&lt;T: <a class='trait' href='http://doc.rust-lang.org/nightly/core/kinds/trait.Send.html' title='core::kinds::Send'>Send</a>&gt; <a class='struct' href='../sync/struct.Mutex.html' title='sync::Mutex'>Mutex</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.new' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.new' class='fnname'>new</a>(t: T) -&gt; <a class='struct' href='../sync/struct.Mutex.html' title='sync::Mutex'>Mutex</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>Creates a new mutex in an unlocked state ready for use.</p>
</div><h4 id='method.lock' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.lock' class='fnname'>lock</a>(&amp;self) -&gt; <a class='struct' href='../sync/struct.MutexGuard.html' title='sync::MutexGuard'>MutexGuard</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>Acquires a mutex, blocking the current task until it is able to do so.</p>

<p>This function will block the local task until it is available to acquire
the mutex. Upon returning, the task is the only task with the mutex
held. An RAII guard is returned to allow scoped unlock of the lock. When
the guard goes out of scope, the mutex will be unlocked.</p>

<h1 id="panics" class='section-header'><a
                           href="#panics">Panics</a></h1>
<p>If another user of this mutex panicked while holding the mutex, then
this call will immediately panic once the mutex is acquired.</p>
</div><h4 id='method.try_lock' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.try_lock' class='fnname'>try_lock</a>(&amp;self) -&gt; <a class='enum' href='http://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='struct' href='../sync/struct.MutexGuard.html' title='sync::MutexGuard'>MutexGuard</a>&lt;T&gt;&gt;</code></h4>
<div class='docblock'><p>Attempts to acquire this lock.</p>

<p>If the lock could not be acquired at this time, then <code>None</code> is returned.
Otherwise, an RAII guard is returned. The lock will be unlocked when the
guard is dropped.</p>

<p>This function does not block.</p>

<h1 id="panics" class='section-header'><a
                           href="#panics">Panics</a></h1>
<p>If another user of this mutex panicked while holding the mutex, then
this call will immediately panic if the mutex would otherwise be
acquired.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><a class='stability Unmarked' title='No stability level'></a><code>impl&lt;T: <a class='trait' href='http://doc.rust-lang.org/nightly/core/kinds/trait.Send.html' title='core::kinds::Send'>Send</a>&gt; <a class='trait' href='http://doc.rust-lang.org/nightly/core/ops/trait.Drop.html' title='core::ops::Drop'>Drop</a> for <a class='struct' href='../sync/struct.Mutex.html' title='sync::Mutex'>Mutex</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.drop' class='method'><a class='stability Experimental' title='Experimental'></a><code>fn <a href='#method.drop' class='fnname'>drop</a>(&amp;mut self)</code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code>, <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "sync";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script async src="../search-index.js"></script>
</body>
</html>